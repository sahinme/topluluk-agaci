{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\repos\\\\saalla-next.js\\\\components\\\\Header\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useRef, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport clsx from \"clsx\";\nimport _ from \"lodash\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport NotificationImportantIcon from \"@material-ui/icons/NotificationImportant\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Menu from \"@material-ui/core/Menu\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { Button, Avatar } from \"@material-ui/core\";\nimport { readLocalStorage } from \"../../lib/helpers\";\nimport { logOut as _logOut } from \"../../lib/auth/actions\";\nimport ComboBox from \"../AutoComplete\";\nimport { getUserCommunitiesRequest, ofModeratorsRequest } from \"../../lib/community/actions\";\nimport MainDrawer from \"../Drawer\";\nimport { getCountRequest } from \"../../lib/notifications/actions\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport { connect } from \"react-redux\";\nimport { renderImage } from \"../ProfileCard\";\nimport { getUnreadsRequest } from \"../../lib/messages/actions\";\nimport { searchRequest } from \"../../lib/home/actions\";\nimport logo from \"../logo.png\";\nvar drawerWidth = 240;\nvar useStyles = makeStyles(function (theme) {\n  var _title, _ref;\n\n  return _ref = {\n    root: {\n      display: \"flex\"\n    },\n    grow: {\n      flexGrow: 1\n    },\n    title: (_title = {\n      display: \"none\"\n    }, _defineProperty(_title, theme.breakpoints.up(\"sm\"), {\n      display: \"block\"\n    }), _defineProperty(_title, \"width\", \"7rem\"), _title),\n    menuButton: {\n      marginRight: theme.spacing(2)\n    },\n    appBar: {\n      transition: theme.transitions.create([\"margin\", \"width\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    },\n    appBarShift: {\n      width: \"calc(100% - \".concat(drawerWidth, \"px)\"),\n      marginLeft: drawerWidth,\n      transition: theme.transitions.create([\"margin\", \"width\"], {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    }\n  }, _defineProperty(_ref, \"menuButton\", {\n    marginRight: theme.spacing(2)\n  }), _defineProperty(_ref, \"hide\", {\n    display: \"none\"\n  }), _defineProperty(_ref, \"drawer\", {\n    width: drawerWidth,\n    flexShrink: 0\n  }), _defineProperty(_ref, \"drawerPaper\", {\n    width: drawerWidth\n  }), _defineProperty(_ref, \"drawerHeader\", _objectSpread(_objectSpread({\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(0, 1)\n  }, theme.mixins.toolbar), {}, {\n    justifyContent: \"flex-end\"\n  })), _defineProperty(_ref, \"content\", {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  }), _defineProperty(_ref, \"contentShift\", {\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  }), _defineProperty(_ref, \"search\", _defineProperty({\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: \"#a3989826\",\n    \"&:hover\": {\n      backgroundColor: \"#59535326\"\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\"\n  }, theme.breakpoints.up(\"sm\"), {\n    marginLeft: theme.spacing(3),\n    width: \"auto\"\n  })), _defineProperty(_ref, \"searchIcon\", {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }), _defineProperty(_ref, \"inputRoot\", {\n    color: \"inherit\"\n  }), _defineProperty(_ref, \"inputInput\", _defineProperty({\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: \"calc(1em + \".concat(theme.spacing(4), \"px)\"),\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\"\n  }, theme.breakpoints.up(\"md\"), {\n    width: \"20ch\"\n  })), _defineProperty(_ref, \"sectionDesktop\", _defineProperty({\n    display: \"none\"\n  }, theme.breakpoints.up(\"md\"), {\n    display: \"flex\"\n  })), _defineProperty(_ref, \"sectionMobile\", _defineProperty({\n    display: \"flex\"\n  }, theme.breakpoints.up(\"md\"), {\n    display: \"none\"\n  })), _ref;\n});\n\nfunction PrimarySearchAppBar(props) {\n  _s();\n\n  var unReads = props.unReads,\n      unReadMessages = props.unReadMessages;\n  var classes = useStyles();\n  var router = useRouter();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    data: {\n      token: null,\n      user: null\n    },\n    error: null\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      auth = _React$useState4[0],\n      setAuth = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      anchorEl = _React$useState6[0],\n      setAnchorEl = _React$useState6[1];\n\n  var _React$useState7 = React.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      mobileMoreAnchorEl = _React$useState8[0],\n      setMobileMoreAnchorEl = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      user = _React$useState10[0],\n      setUser = _React$useState10[1];\n\n  var _React$useState11 = React.useState(\"\"),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      userQuery = _React$useState12[0],\n      setUserQuery = _React$useState12[1];\n\n  useEffect(function () {\n    var user = readLocalStorage(\"user\");\n    var token = readLocalStorage(\"token\");\n\n    if (user) {\n      setUser(user);\n    }\n\n    if (user && token) {\n      var payload = {\n        data: {\n          user: user,\n          token: token\n        },\n        error: null\n      };\n      setAuth(payload);\n    }\n\n    var getUserCommunities = props.getUserCommunities,\n        getUnReads = props.getUnReads,\n        ofModerators = props.ofModerators,\n        getUnReadMessages = props.getUnReadMessages;\n    getUserCommunities();\n    getUnReads();\n    getUnReadMessages();\n    user && user.isModerator && ofModerators();\n  }, []);\n\n  var handleDrawerOpen = function handleDrawerOpen() {\n    setOpen(true);\n  };\n\n  var handleDrawerClose = function handleDrawerClose() {\n    setOpen(false);\n  };\n\n  var isMenuOpen = Boolean(anchorEl);\n  var isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  var handleProfileMenuOpen = function handleProfileMenuOpen(event) {\n    setAnchorEl(event.currentTarget);\n  };\n\n  var handleMobileMenuClose = function handleMobileMenuClose() {\n    setMobileMoreAnchorEl(null);\n  };\n\n  var handleMenuClose = function handleMenuClose() {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n\n  var handleMobileMenuOpen = function handleMobileMenuOpen(event) {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  var handleSelectChange = function handleSelectChange(community) {\n    community && router.push(\"/t/\".concat(community.slug));\n  };\n\n  var handleSearchChange = function handleSearchChange(values) {\n    if (values) {\n      values.type === \"community\" ? router.push(\"/t/\".concat(values.name)) : router.push(\"/\".concat(values.name));\n    } else {\n      return;\n    }\n  };\n\n  var delayedQuery = useRef(_.debounce(function (q) {\n    return props.search({\n      text: q\n    });\n  }, 500)).current;\n\n  var onSearch = function onSearch(e) {\n    setUserQuery(e.target.value);\n    delayedQuery(e.target.value);\n  };\n\n  var menuId = \"primary-search-account-menu\";\n\n  var renderMenu = __jsx(Menu, {\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    id: menuId,\n    keepMounted: true,\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: isMenuOpen,\n    onClose: handleMenuClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 5\n    }\n  }, __jsx(MenuItem, {\n    onClick: function onClick() {\n      return router.push(\"/p/\".concat(user.username));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }\n  }, \"Profil\"), __jsx(MenuItem, {\n    onClick: props.logOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }\n  }, \"\\xC7\\u0131k\\u0131\\u015F\"));\n\n  var mobileMenuId = \"primary-search-account-menu-mobile\";\n\n  var renderMobileMenu = __jsx(Menu, {\n    anchorEl: mobileMoreAnchorEl,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    id: mobileMenuId,\n    keepMounted: true,\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: isMobileMenuOpen,\n    onClose: handleMobileMenuClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 5\n    }\n  }, auth.data.token ? __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }\n  }, \" \", __jsx(MenuItem, {\n    onClick: function onClick() {\n      return router.push(\"/chat\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"show 4 new mails\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReadMessages,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 15\n    }\n  }, __jsx(MailIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 17\n    }\n  }))), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }\n  }, \"Mesajlar\")), __jsx(MenuItem, {\n    onClick: function onClick() {\n      return router.push(\"/bildirimler\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"show 11 new notifications\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReads && unReads.count,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 15\n    }\n  }, __jsx(NotificationsIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 17\n    }\n  }))), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }\n  }, \"Bildirimler\")), __jsx(MenuItem, {\n    onClick: function onClick() {\n      return router.push(\"/p/\".concat(user.username));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"primary-search-account-menu\",\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, __jsx(Avatar, {\n    className: \"header_avatar\",\n    src: renderImage(user.profileImagePath, user.gender),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, \"Profil\")), \" \", __jsx(MenuItem, {\n    onClick: props.logOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }\n  }, __jsx(ExitToAppIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }\n  }, \"\\xC7\\u0131k\\u0131\\u015F\"))) : __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }\n  }, __jsx(MenuItem, {\n    onClick: function onClick() {\n      return router.push(\"/giris-yap\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"primary-search-account-menu\",\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }\n  }, __jsx(AccountCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }\n  }, \"Giri\\u015F Yap\")), __jsx(MenuItem, {\n    onClick: function onClick() {\n      return router.push(\"/kaydol\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"primary-search-account-menu\",\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 13\n    }\n  }, __jsx(AccountCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 13\n    }\n  }, \"Kaydol\"))));\n\n  return __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 5\n    }\n  }, __jsx(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }\n  }), __jsx(AppBar, {\n    position: \"fixed\",\n    className: clsx(classes.appBar, _defineProperty({}, classes.appBarShift, open)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }\n  }, __jsx(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }\n  }, __jsx(IconButton, {\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    onClick: handleDrawerOpen,\n    edge: \"start\",\n    className: clsx(classes.menuButton, open && classes.hide),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 11\n    }\n  }, __jsx(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  })), __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    className: classes.title,\n    src: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: classes.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: classes.searchIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }\n  }, __jsx(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 15\n    }\n  })), __jsx(ComboBox, {\n    style: {\n      width: \"100%\"\n    },\n    onSearch: onSearch,\n    onChange: handleSearchChange,\n    placeholder: \"ara\",\n    options: props.searchData || [],\n    labelField: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 13\n    }\n  })), auth.data.token && __jsx(ComboBox, {\n    style: {\n      width: \"50%\"\n    },\n    onChange: handleSelectChange,\n    placeholder: \"Topluluklar\\u0131n\",\n    options: props.userCommunities || [],\n    labelField: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: classes.grow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: classes.sectionDesktop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 11\n    }\n  }, auth.data.token ? __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 15\n    }\n  }, __jsx(IconButton, {\n    onClick: function onClick() {\n      return router.push(\"/chat\");\n    },\n    \"aria-label\": \"show 4 new mails\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReadMessages,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 19\n    }\n  }, __jsx(MailIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 21\n    }\n  }))), __jsx(IconButton, {\n    onClick: function onClick() {\n      return router.push(\"/bildirimler\");\n    },\n    \"aria-label\": \"show 17 new notifications\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 17\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReads && unReads.count,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 19\n    }\n  }, __jsx(NotificationImportantIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 21\n    }\n  }))), __jsx(IconButton, {\n    edge: \"end\",\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": menuId,\n    \"aria-haspopup\": \"true\",\n    onClick: handleProfileMenuOpen,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }, __jsx(Avatar, {\n    className: \"header_avatar\",\n    src: user.profileImagePath,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 19\n    }\n  })), \" \") : __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    style: {\n      marginRight: \"0.5rem\"\n    },\n    onClick: function onClick() {\n      return router.push(\"/kaydol\");\n    },\n    variant: \"contained\",\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 17\n    }\n  }, \"Kaydol\"), __jsx(Button, {\n    onClick: function onClick() {\n      return router.push(\"/giris-yap\");\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 17\n    }\n  }, \"Giri\\u015F yap\"))), __jsx(\"div\", {\n    className: classes.sectionMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"show more\",\n    \"aria-controls\": mobileMenuId,\n    \"aria-haspopup\": \"true\",\n    onClick: handleMobileMenuOpen,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 13\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReads && unReadMessages + unReads.count,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 15\n    }\n  }, __jsx(MoreIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 17\n    }\n  })))))), renderMobileMenu, renderMenu, __jsx(MainDrawer, {\n    userCommunities: props.userCommunities,\n    ofModerators: props.ownCommunities,\n    open: open,\n    onClose: handleDrawerClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(PrimarySearchAppBar, \"QPxQk4cOG2Nz1dYrYULeeud+ano=\", false, function () {\n  return [useStyles, useRouter];\n});\n\n_c = PrimarySearchAppBar;\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    logOut: function logOut() {\n      return dispatch(_logOut());\n    },\n    getUserCommunities: function getUserCommunities() {\n      return dispatch(getUserCommunitiesRequest());\n    },\n    ofModerators: function ofModerators() {\n      return dispatch(ofModeratorsRequest());\n    },\n    getUnReads: function getUnReads() {\n      return dispatch(getCountRequest());\n    },\n    getUnReadMessages: function getUnReadMessages() {\n      return dispatch(getUnreadsRequest());\n    },\n    search: function search(payload) {\n      return dispatch(searchRequest(payload));\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    //auth: state.auth,\n    userCommunities: state.userCommunities.data,\n    ownCommunities: state.ofModerators.data,\n    unReads: state.unReads.data,\n    unReadMessages: state.unReadMessages.unreads,\n    searchData: state.home.search\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimarySearchAppBar);\n\nvar _c;\n\n$RefreshReg$(_c, \"PrimarySearchAppBar\");","map":{"version":3,"sources":["D:/repos/saalla-next.js/components/Header/index.jsx"],"names":["React","useRef","useEffect","useRouter","Link","clsx","_","makeStyles","CssBaseline","AppBar","Toolbar","NotificationImportantIcon","IconButton","MenuIcon","Menu","ExitToAppIcon","SearchIcon","AccountCircle","NotificationsIcon","MoreIcon","MenuItem","Badge","Button","Avatar","readLocalStorage","logOut","ComboBox","getUserCommunitiesRequest","ofModeratorsRequest","MainDrawer","getCountRequest","MailIcon","connect","renderImage","getUnreadsRequest","searchRequest","logo","drawerWidth","useStyles","theme","root","display","grow","flexGrow","title","breakpoints","up","menuButton","marginRight","spacing","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","width","marginLeft","easeOut","enteringScreen","flexShrink","alignItems","padding","mixins","toolbar","justifyContent","position","borderRadius","shape","backgroundColor","height","pointerEvents","color","paddingLeft","PrimarySearchAppBar","props","unReads","unReadMessages","classes","router","useState","open","setOpen","data","token","user","error","auth","setAuth","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","setUser","userQuery","setUserQuery","payload","getUserCommunities","getUnReads","ofModerators","getUnReadMessages","isModerator","handleDrawerOpen","handleDrawerClose","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","handleMobileMenuOpen","handleSelectChange","community","push","slug","handleSearchChange","values","type","name","delayedQuery","debounce","q","search","text","current","onSearch","e","target","value","menuId","renderMenu","vertical","horizontal","username","mobileMenuId","renderMobileMenu","count","profileImagePath","gender","hide","searchIcon","searchData","userCommunities","sectionDesktop","sectionMobile","ownCommunities","mapDispatchToProps","dispatch","mapStateToProps","state","unreads","home"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport Link from \"next/link\";\r\nimport clsx from \"clsx\";\r\nimport _ from \"lodash\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport NotificationImportantIcon from \"@material-ui/icons/NotificationImportant\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport { Button, Avatar } from \"@material-ui/core\";\r\nimport { readLocalStorage } from \"../../lib/helpers\";\r\nimport { logOut } from \"../../lib/auth/actions\";\r\nimport ComboBox from \"../AutoComplete\";\r\nimport {\r\n  getUserCommunitiesRequest,\r\n  ofModeratorsRequest,\r\n} from \"../../lib/community/actions\";\r\nimport MainDrawer from \"../Drawer\";\r\nimport { getCountRequest } from \"../../lib/notifications/actions\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport { connect } from \"react-redux\";\r\nimport { renderImage } from \"../ProfileCard\";\r\nimport { getUnreadsRequest } from \"../../lib/messages/actions\";\r\nimport { searchRequest } from \"../../lib/home/actions\";\r\nimport logo from \"../logo.png\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n    width: \"7rem\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: \"#a3989826\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#59535326\",\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction PrimarySearchAppBar(props) {\r\n  const { unReads, unReadMessages } = props;\r\n\r\n  const classes = useStyles();\r\n  const router = useRouter();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [auth, setAuth] = React.useState({\r\n    data: { token: null, user: null },\r\n    error: null,\r\n  });\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n  const [user, setUser] = React.useState(false);\r\n  const [userQuery, setUserQuery] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const user = readLocalStorage(\"user\");\r\n    const token = readLocalStorage(\"token\");\r\n    if (user) {\r\n      setUser(user);\r\n    }\r\n    if (user && token) {\r\n      const payload = { data: { user, token }, error: null };\r\n      setAuth(payload);\r\n    }\r\n    const {\r\n      getUserCommunities,\r\n      getUnReads,\r\n      ofModerators,\r\n      getUnReadMessages,\r\n    } = props;\r\n    getUserCommunities();\r\n    getUnReads();\r\n    getUnReadMessages();\r\n    user && user.isModerator && ofModerators();\r\n  }, []);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleSelectChange = (community) => {\r\n    community && router.push(`/t/${community.slug}`);\r\n  };\r\n\r\n  const handleSearchChange = (values) => {\r\n    if (values) {\r\n      values.type === \"community\"\r\n        ? router.push(`/t/${values.name}`)\r\n        : router.push(`/${values.name}`);\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  const delayedQuery = useRef(_.debounce((q) => props.search({ text: q }), 500))\r\n    .current;\r\n  const onSearch = (e) => {\r\n    setUserQuery(e.target.value);\r\n    delayedQuery(e.target.value);\r\n  };\r\n\r\n  const menuId = \"primary-search-account-menu\";\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={() => router.push(`/p/${user.username}`)}>\r\n        Profil\r\n      </MenuItem>\r\n      <MenuItem onClick={props.logOut}>k</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      {auth.data.token ? (\r\n        <span>\r\n          {\" \"}\r\n          <MenuItem onClick={() => router.push(\"/chat\")}>\r\n            <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n              <Badge badgeContent={unReadMessages} color=\"secondary\">\r\n                <MailIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <p>Mesajlar</p>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => router.push(`/bildirimler`)}>\r\n            <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\r\n              <Badge badgeContent={unReads && unReads.count} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <p>Bildirimler</p>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => router.push(`/p/${user.username}`)}>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"primary-search-account-menu\"\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <Avatar\r\n                className=\"header_avatar\"\r\n                src={renderImage(user.profileImagePath, user.gender)}\r\n              />\r\n            </IconButton>\r\n            <p>Profil</p>\r\n          </MenuItem>{\" \"}\r\n          <MenuItem onClick={props.logOut}>\r\n            <IconButton color=\"inherit\">\r\n              <ExitToAppIcon />\r\n            </IconButton>\r\n            <p>k</p>\r\n          </MenuItem>\r\n        </span>\r\n      ) : (\r\n        <span>\r\n          <MenuItem onClick={() => router.push(\"/giris-yap\")}>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"primary-search-account-menu\"\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <p>Giri Yap</p>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => router.push(\"/kaydol\")}>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"primary-search-account-menu\"\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <p>Kaydol</p>\r\n          </MenuItem>\r\n        </span>\r\n      )}\r\n    </Menu>\r\n  );\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Link href=\"/\">\r\n            <img className={classes.title} src={logo} />\r\n          </Link>\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <ComboBox\r\n              style={{ width: \"100%\" }}\r\n              onSearch={onSearch}\r\n              onChange={handleSearchChange}\r\n              placeholder=\"ara\"\r\n              options={props.searchData || []}\r\n              labelField=\"name\"\r\n            />\r\n          </div>\r\n          {auth.data.token && (\r\n            <ComboBox\r\n              style={{ width: \"50%\" }}\r\n              onChange={handleSelectChange}\r\n              placeholder=\"Topluluklarn\"\r\n              options={props.userCommunities || []}\r\n              labelField=\"name\"\r\n            />\r\n          )}\r\n          <div className={classes.grow} />\r\n\r\n          <div className={classes.sectionDesktop}>\r\n            {auth.data.token ? (\r\n              <React.Fragment>\r\n                <IconButton\r\n                  onClick={() => router.push(\"/chat\")}\r\n                  aria-label=\"show 4 new mails\"\r\n                  color=\"inherit\"\r\n                >\r\n                  <Badge badgeContent={unReadMessages} color=\"secondary\">\r\n                    <MailIcon />\r\n                  </Badge>\r\n                </IconButton>\r\n                <IconButton\r\n                  onClick={() => router.push(\"/bildirimler\")}\r\n                  aria-label=\"show 17 new notifications\"\r\n                  color=\"inherit\"\r\n                >\r\n                  <Badge\r\n                    badgeContent={unReads && unReads.count}\r\n                    color=\"secondary\"\r\n                  >\r\n                    <NotificationImportantIcon />\r\n                  </Badge>\r\n                </IconButton>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"account of current user\"\r\n                  aria-controls={menuId}\r\n                  aria-haspopup=\"true\"\r\n                  onClick={handleProfileMenuOpen}\r\n                  color=\"inherit\"\r\n                >\r\n                  <Avatar\r\n                    className=\"header_avatar\"\r\n                    src={user.profileImagePath}\r\n                  />\r\n                </IconButton>{\" \"}\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                <Button\r\n                  style={{ marginRight: \"0.5rem\" }}\r\n                  onClick={() => router.push(\"/kaydol\")}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                >\r\n                  Kaydol\r\n                </Button>\r\n                <Button\r\n                  onClick={() => router.push(\"/giris-yap\")}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Giri yap\r\n                </Button>\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <Badge\r\n                badgeContent={unReads && unReadMessages + unReads.count}\r\n                color=\"secondary\"\r\n              >\r\n                <MoreIcon />\r\n              </Badge>\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n      <MainDrawer\r\n        userCommunities={props.userCommunities}\r\n        ofModerators={props.ownCommunities}\r\n        open={open}\r\n        onClose={handleDrawerClose}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  logOut: () => dispatch(logOut()),\r\n  getUserCommunities: () => dispatch(getUserCommunitiesRequest()),\r\n  ofModerators: () => dispatch(ofModeratorsRequest()),\r\n  getUnReads: () => dispatch(getCountRequest()),\r\n  getUnReadMessages: () => dispatch(getUnreadsRequest()),\r\n  search: (payload) => dispatch(searchRequest(payload)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  //auth: state.auth,\r\n  userCommunities: state.userCommunities.data,\r\n  ownCommunities: state.ofModerators.data,\r\n  unReads: state.unReads.data,\r\n  unReadMessages: state.unReadMessages.unreads,\r\n  searchData: state.home.search,\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PrimarySearchAppBar);\r\n"]},"metadata":{},"sourceType":"module"}